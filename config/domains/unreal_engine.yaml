# =============================================================================
# DOMAIN: UNREAL ENGINE 5
# =============================================================================
#
# Configuration for training an expert in video game development
# with Unreal Engine 5 (C++, Blueprints, game systems).
#
# =============================================================================

domain:
  name: "unreal_engine"
  description: "Expert in video game development with Unreal Engine 5"
  language: "en"

  keywords:
    - "unreal"
    - "ue5"
    - "blueprint"
    - "c++"
    - "gameplay"
    - "actor"
    - "component"
    - "widget"
    - "niagara"
    - "material"
    - "shader"
    - "animation"
    - "skeletal mesh"
    - "static mesh"
    - "level"
    - "world"
    - "gamemode"
    - "playercontroller"
    - "character"
    - "pawn"
    - "anim blueprint"
    - "behavior tree"
    - "blackboard"
    - "EQS"
    - "GAS"
    - "replication"
    - "RPC"
    - "multiplayer"

  negative_keywords:
    - "unity"  # Different engine
    - "godot"
    - "crack"
    - "pirate"
    - "free download"

# =============================================================================
# DATA SOURCES
# =============================================================================
data_sources:
  documentation:
    - "https://dev.epicgames.com/documentation/en-us/unreal-engine"
    - "https://docs.unrealengine.com"

  github:
    repos:
      - "EpicGames/UnrealEngine"
      - "EpicGames/Lyra"
      - "tranek/GASDocumentation"
    file_types:
      - ".cpp"
      - ".h"
      - ".hpp"
      - ".uasset"
      - ".umap"
      - ".md"
      - ".txt"
    exclude_patterns:
      - "ThirdParty/*"
      - "Binaries/*"
      - "Intermediate/*"
      - "Saved/*"

  websites:
    - "https://www.unrealengine.com/en-US/blog"
    - "https://benui.ca"
    - "https://unrealcommunity.wiki"

  forums:
    - "https://forums.unrealengine.com"
    - "https://www.reddit.com/r/unrealengine"

  youtube:
    channels:
      - "UnrealEngine"
      - "UnrealSensei"
      - "RyanLaley"
      - "MathewWadstein"
      - "AlexForsythe"

  huggingface_datasets: []

# =============================================================================
# SYNTHETIC DATA GENERATION
# =============================================================================
generation:
  templates:
    # -------------------------------------------------------------------------
    # Technical questions and answers
    # -------------------------------------------------------------------------
    - type: "qa"
      system_prompt: |
        You are a senior video game developer with 10+ years of experience
        in Unreal Engine. You explain concepts clearly and practically,
        always including C++ code or Blueprints when relevant.
      prompt: |
        Generate an advanced technical question about {topic} in Unreal Engine 5.

        The answer should include:
        1. Clear explanation of the concept
        2. Example C++ code (if applicable)
        3. How to do it in Blueprints (if applicable)
        4. Best practices and common mistakes
        5. Performance considerations

        Format:
        **Question:** [technical question]

        **Answer:**
        [detailed answer with code]
      topics:
        # Fundamentals
        - "Actor lifecycle (BeginPlay, Tick, EndPlay)"
        - "Components and their hierarchy"
        - "UObject and garbage collection"
        - "UPROPERTY and UFUNCTION macros"
        - "Delegates and events"

        # Gameplay
        - "Character movement component"
        - "Player Controller vs AI Controller"
        - "GameMode and GameState"
        - "Pawn and Character"
        - "Input system (Enhanced Input)"

        # Blueprints
        - "Blueprint communication"
        - "Blueprint interfaces"
        - "Event dispatchers"
        - "Blueprint function libraries"
        - "Data-only blueprints"

        # Advanced systems
        - "Gameplay Ability System (GAS)"
        - "Behavior Trees for AI"
        - "Environment Query System (EQS)"
        - "Blackboard and AI Perception"

        # Graphics
        - "Material Editor and shaders"
        - "Niagara particle system"
        - "Lumen and Nanite"
        - "Post-process effects"
        - "Level streaming"

        # Networking
        - "Actor replication"
        - "RPCs (Server, Client, Multicast)"
        - "Network relevancy"
        - "Client-side prediction"

        # Animation
        - "Animation Blueprints"
        - "State machines"
        - "Blend spaces"
        - "Animation montages"
        - "IK and procedural animation"

        # UI
        - "UMG Widget system"
        - "Slate vs UMG"
        - "HUD and menus"
        - "Data binding in UI"

        # Optimization
        - "Profiling with Unreal Insights"
        - "LODs and culling"
        - "Async loading"
        - "Memory management"

    # -------------------------------------------------------------------------
    # Step-by-step tutorials
    # -------------------------------------------------------------------------
    - type: "tutorial"
      system_prompt: |
        You are an Unreal Engine instructor who creates clear
        and easy-to-follow tutorials. You always include complete code and explanations
        for each step.
      prompt: |
        Create a complete step-by-step tutorial for {task} in Unreal Engine 5.

        The tutorial should include:
        1. Tutorial objective
        2. Prerequisites
        3. Numbered steps with explanations
        4. Complete C++ code with comments
        5. Editor configuration (if applicable)
        6. Blueprint alternative (if applicable)
        7. Testing and verification
        8. Potential issues and solutions

        Format:
        # Tutorial: {task}

        ## Objective
        [description of the final result]

        ## Prerequisites
        - [prerequisite 1]
        - [prerequisite 2]

        ## Step 1: [title]
        [detailed explanation with code]

        ...
      tasks:
        # Game systems
        - "Create an inventory system with drag & drop"
        - "Implement a dialogue system with branching"
        - "Create a quest/mission system"
        - "Implement a crafting system"
        - "Create a save/load game system"

        # Character
        - "Create a third-person character controller"
        - "Implement a melee combat system"
        - "Create an ability system with cooldowns"
        - "Implement wall running and parkour"
        - "Create a stamina and stats system"

        # AI
        - "Create an enemy with patrol and detection"
        - "Implement a companion/follower NPC"
        - "Create a faction system for AI"
        - "Implement AI that uses cover"

        # Multiplayer
        - "Set up a basic multiplayer project"
        - "Implement lobby and matchmaking"
        - "Create a chat system"
        - "Synchronize inventory in multiplayer"

        # UI/UX
        - "Create a main menu with options"
        - "Implement a HUD with health bar and minimap"
        - "Create an on-screen notification system"
        - "Implement dynamic subtitles"

        # Procedural
        - "Generate procedural dungeons"
        - "Create procedural terrain with biomes"
        - "Implement a spawn system for loot"

    # -------------------------------------------------------------------------
    # Debugging and troubleshooting
    # -------------------------------------------------------------------------
    - type: "debug"
      system_prompt: |
        You are an expert in Unreal Engine debugging. You help solve
        common problems and compilation/runtime errors.
      prompt: |
        Generate a common problem/error related to {topic} in Unreal Engine 5.

        Include:
        1. Problem description
        2. Exact error message (if applicable)
        3. Code that causes the error
        4. Root cause of the problem
        5. Step-by-step solution
        6. How to prevent this error in the future

        Format:
        ## Problem: [descriptive title]

        ### Symptoms
        [what the user sees]

        ### Error
        ```
        [error message]
        ```

        ### Problematic code
        ```cpp
        [code]
        ```

        ### Cause
        [explanation]

        ### Solution
        [steps to resolve]

        ### Prevention
        [how to avoid it]
      topics:
        - "Access violation on pointers"
        - "Nullptr exceptions"
        - "Blueprint compilation errors"
        - "Circular dependencies"
        - "Missing includes"
        - "Linker errors"
        - "Replication issues"
        - "Animation not playing"
        - "Physics glitches"
        - "UI not responding to input"
        - "Package build failures"
        - "Hot reload crashes"
        - "Garbage collection issues"
        - "Async loading problems"
        - "Material shader errors"

    # -------------------------------------------------------------------------
    # Conceptual explanations
    # -------------------------------------------------------------------------
    - type: "explanation"
      system_prompt: |
        You are a software architect specialized in Unreal Engine.
        You explain architecture and design concepts in a deep but accessible way.
      prompt: |
        Explain in depth the concept of {topic} in Unreal Engine 5.

        The explanation should include:
        1. What it is and what it's for
        2. How it works internally
        3. When to use it and when not to
        4. Comparison with alternatives
        5. Real-world usage examples
        6. Best practices

        Format:
        # {topic}

        ## What is it?
        [clear definition]

        ## How does it work?
        [technical explanation]

        ## When to use it?
        [use cases]

        ## Alternatives
        [comparison]

        ## Practical example
        [code and explanation]

        ## Best practices
        [recommendations]
      topics:
        - "Subsystems in UE5"
        - "Gameplay Tags"
        - "Data Assets vs Data Tables"
        - "Soft vs Hard references"
        - "Primary Asset IDs"
        - "World Partition"
        - "Enhanced Input System"
        - "Common UI plugin"
        - "Modular gameplay features"

  template_weights:
    qa: 0.35
    tutorial: 0.30
    debug: 0.20
    explanation: 0.15

# =============================================================================
# EVALUATION
# =============================================================================
evaluation:
  benchmarks:
    - "code_syntax"          # Is the C++ code syntactically correct?
    - "ue_api_accuracy"      # Does it use the UE API correctly?
    - "best_practices"       # Does it follow best practices?
    - "explanation_clarity"  # Is the explanation clear?
    - "completeness"         # Is the answer complete?

  custom_eval_file: null

  min_accuracy: 0.75
  min_coherence: 0.80

# =============================================================================
# DATA PROPORTION
# =============================================================================
mix_ratio:
  real_docs: 0.25
  real_code: 0.25
  synthetic_qa: 0.20
  synthetic_tutorials: 0.20
  synthetic_debug: 0.10
